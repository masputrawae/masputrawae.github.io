{{- /* 1. Preload fonts */}}
{{- range site.Params.fonts }}
  <link rel="preload" as="font" href="{{ .path | relURL }}" type="font/{{ .type }}" crossorigin />
{{- end }}

{{- /* 2. Embed @font-face */}}
<style>
{{- range site.Params.fonts }}
@font-face { 
  font-family: "{{ .name }}"; 
  font-style: normal; 
  font-weight: {{ .weight }}; 
  font-display: swap; src: url("{{ .path | relURL }}") format("{{ .type }}");
}
{{- end }}
</style>
